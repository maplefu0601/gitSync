
<html>
<head>
	<title>GDC DOCS MANAGEMENT</title>
</head>
<body>
	<h1>GDC DOCS MANAGEMENT</h1>
	
	<div>
		<label><input type='checkbox' id='chkBoxGitPull'>Monitor Git Changes</label><br>
		<label><input type='checkbox' id='chkBoxCreateHtml'>Automatically Generate Web Site</label><br>
		<label><input type='checkbox' id='chkboxCreatePdf'>Automatically Convert to Pdf</label><br><br>
	</div>
	<div>
		<span>repository name:</span><input id='repoName' name='reponame' value='test-gdcdocs'/>
		<button id='getCode'>Get MKDOCS</button>
		<button id='createHtml'>Generate HTML</button>
		<button id='toPdf'>Convert To PDF</button>
	</div>

	<div id='log'>
	</div>
	<style>
		#log {
			position: fixed;
			bottom:0px;
			background-color:#aaaaaa;
			width:100%;
			height:300px;
			scroll: auto;
		}
	</style>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	    <script type="text/javascript">
			var URL = 'http://54.69.251.157:6600/';
		    $(document).ready(function() {

				$('#getCode').click(function() {
					var name = ($('#repoName')[0].value);
					//alert(name);

					$.ajax({
						url: URL + 'gitchanged?name='+name,
						method: 'get'
					}).done(function(msg) {
						console.log('get git changed---'+JSON.stringify(msg));
						$('#log').html(JSON.stringify(msg));
					}).fail(function(msg) {
						console.log('fail to get git changed ======'+msg);
						$('#log').html(JSON.stringify(msg));
					});

				});

				$('#createHtml').click(function() {
					var name = ($('#repoName')[0].value);
					//alert(name);

					$.ajax({
						url: URL + 'generateHtml?name='+name,
						method: 'get'
					}).done(function(msg) {
						console.log('get git changed---'+JSON.stringify(msg));
						$('#log').html(JSON.stringify(msg));
					}).fail(function(msg) {
						console.log('fail to get git changed ======'+msg);
						$('#log').html(JSON.stringify(msg));
					});
				});
				
				$('#toPdf').click(function() {
					var name = ($('#repoName')[0].value);
					//alert(name);

					$.ajax({
						url: URL + 'markdown?name='+name,
						method: 'get'
					}).done(function(msg) {
						console.log('get git changed---'+JSON.stringify(msg));
						$('#log').html(JSON.stringify(msg));
					}).fail(function(msg) {
						console.log('fail to get git changed ======'+msg);
						$('#log').html(JSON.stringify(msg));
					});
				});

				$('#chkBoxCreateHtml').change(function() {
					var checked = $('#chkBoxCreateHtml').val($(this).is(':checked'));

					$.ajax({
						url: URL + 'autoCreateHtml?checked='+checked,
						method: 'get'
					}).done(function(msg) {
						$('#log').html(JSON.stringify(msg));
					}).fail(function(msg) {
						$('#log').html(JSON.stringify(msg));
					});
				});
				
				$('#chkBoxCreatePdf').change(function() {
					var checked = $('#chkBoxCreatePdf').val($(this).is(':checked'));
				});
			})
		</script>
</body>
</html>




